<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Spent</title>
		<!-- bootstrap -->
		<link rel="stylesheet" href="https://bootswatch.com/flatly/bootstrap.min.css">
		<link rel="stylesheet" href="css/main.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.0-beta.2/angular.min.js"></script>
		<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
		<!-- AngularFire -->
		<script src="https://cdn.firebase.com/libs/angularfire/1.1.3/angularfire.min.js"></script>
		
	</head>
	<body ng-app="Spent" ng-controller="SpentController" ng-cloak>
		<header id="title">
			<div class="container">
				<h1>spent</h1>						
			</div>
		</header>
		
		<section id="input">
			<div class="container">
				<div class="row">
					<div class="col-sm-4">
						<div class="jumbotron">
							<form 
								name="amountForm"
								novalidate
							>
								<div class="row">
									
									<div class="form-group">
										<label for="amount-inp">Amount spent:</label>
										<input 
											type="number" 
											id="amount-inp"
											class="form-control" 					
											placeholder="$$$"
											ng-model="amount"
											required
											pattern="\d+(\.\d{1,2})?"
										>
									</div>							
									
								</div>
								<div class="row">
									
										<div class="form-group">
											<label for="category-inp">Category:</label>
											<select 
												id="category-inp"
												class="form-control"
												ng-options="category for category in categoryNames"
												ng-model="amtCategory"
												ng-change="setSubCatOptions()"
												required
											>
											</select>					
										</div>
									
								</div>
								<div class="row">
									<div class="form-group">
										<label for="subCategoy-inp">Sub-Category:</label>
										<select 
											id="subCategory-inp"
											class="form-control"
											ng-options="subCategory for subCategory in subCategoryOptions"
											ng-model="amtSubCategory"
											requred
										></select>
									</div>
								</div>
								
								
								<div class="row">
									<div class="form-group">
										<label for="location-inp">Location:</label>
										<input 
											type="text"
											id="location-inp"
											class="form-control"
											ng-model="amtLocation"
											placeholder="Ex. Starbucks"
										>
									</div>
								</div>

								<div class="row">
									<div class="form-group">
										<label for="description-inp">Description:</label>
										<textarea 
											class="form-control" 
											id="description-inp" 
											cols="30" 										
											rows="1"
											ng-model="amtDescription"
											placeholder="Jill's birthday present"
										></textarea>
									</div>
								</div>
								
								<div class="row">
									<button 
										type="submit" 
										class="btn btn-default"
										ng-disabled="amountForm.$invalid"
										ng-click="addTransaction()"
									>
										Add
									</button>		
								</div>
							</form>
						</div>						
					</div>
					<div class="col-sm-8">
						<div id="canvas-div">
							<canvas id="spent-vis"></canvas>
						</div>						
					</div>
				</div>
				
			</div>
		</section>

<!-- 		<section id="overview"> 
			<div class="container">
				
			</div>
		</section>
 -->
		<section id="transactions" ng-show="showTransactions">
			<div class="container">
				<div class="jumbotron">
					<p>Transactions for {{transactionName}}</p>

					<div class="transaction" ng-repeat="transaction in transactionsForShow">
						<p>
							<STRONG>{{transaction.amount | currency}}</STRONG> 
							<span ng-if="transaction.location"> at {{transaction.location}}</span>			
							<span ng-if="transaction.description"> {{transaction.description}}</span>
						</p>
					</div>
				</div>
			</div>
		</section>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/randomcolor/0.4.1/randomColor.min.js"></script>
		<script src="js/app.js"></script>
	</body>
</html>